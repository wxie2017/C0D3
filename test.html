<h1>js2 exercise 1</h1>
<div>
  <h1 class="heading">Change Me</h1>
  <input class="inputBox" type="text"/>
  <button class="button">Submit</button>
  <script>
    const h1Element = document.querySelector('.heading')
    const boxElement = document.querySelector('.inputBox')
    const buttonElement = document.querySelector('.button')

    buttonElement.onclick = () => {
    h1Element.innerText = boxElement.value
    boxElement.value=""
    }
  </script>
</div>

<h1>js2 exercise 2</h1>
<div>
  <div class="container"></div>
  <script>
    const box = document.querySelector('.container')

    const startApp = () => {
    box.innerHTML = `
    <button class="start">Start</button>
    `
    const sButton = document.querySelector('.start')

    sButton.onclick = () => {
    box.innerHTML = `
    <input type="text" class="input" />
    <button class="cancel">Cancel</button>
    `
    const cButton = document.querySelector('.cancel')
    cButton.onclick = startApp
    }
    }

    startApp()
  </script>
</div>

<h1>js2 exercise 3</h1>
<div class="container"> </div>
<h1 class="display"></h1>

<script>
const containerElement = document.querySelector('.container')
const displayElement = document.querySelector('.display')

const solution = (a) => {
  return (b) => {
    return a + b
  }
}

const startApp3 = () => {
  displayElement.innerText = ''
  containerElement.innerHTML = `
  <input class="startingInput" type="number"/>
  <button class="start">Start</button>
  `
  const startButton = document.querySelector('.start')
  const startingInput = document.querySelector('.startingInput')

  startButton.onclick = () => {
    const startValue = +startingInput.value
    const add1 = solution(startValue)
    displayElement.innerText = `${startValue} + `

    containerElement.innerHTML = `
  <input class="secondInput" type="number" />
  <button class="add">Add</button>
  <button class="cancel">GoBack</button>
  `

    const addButton = document.querySelector('.add')
    addButton.onclick = () => {
      const secondInput = document.querySelector('.secondInput')
      const secondValue = +secondInput.value
      const result = add1(secondValue)
      displayElement.innerText = `${startValue} + ${secondValue} = ${result}`

      secondInput.value = ''
    }

    const cancelButton = document.querySelector('.cancel')
    cancelButton.onclick = startApp3
  }
}

startApp3()
</script>

<h1>js2 exercise 4</h1>
<div>
  <h2 class="head4"></h2>
  <input class="input4" type="number" />
  <button class="button4">Repeat Hello</button>

  <script>
    repeatHello = (n, result="") => {
    if (n > 0) {
    return repeatHello(n-1, result+"Hello")
    }
    return result
    }

    const head4 = document.querySelector('.head4')
    const input4 = document.querySelector('.input4')
    const button4 = document.querySelector('.button4')

    button4.onclick = () => {
    head4.innerText = repeatHello(+input4.value)
    }
  </script>
</div>

<h1>js2 exercise 5</h1>
<div>
  <div class="div5"></div>
  <input class="input5" type="text" />
  <button class="button5">Split</button>

  <script>
    const split = (str, i=0, result="") => {
    if (i < str.length) {
            return split(str, i+1, result+'<h2>'+str[i]+'</h2>')
            }
            return result
            }

            const box5 = document.querySelector('.div5')
            const input5 = document.querySelector('.input5')
            const button5 = document.querySelector('.button5')

            button5.onclick = () => {
      box5.innerHTML = split(input5.value)
      }
  </script>
</div>

<h1>js2 exercise 6</h1>
<div>
  <div class="div6"></div>
  <input class="input6" type="number" />
  <button class="button6">Start</button>

  <script>
    const isPrime = (n, start=2) => {
    if (n < start) {
            return false
            }

            if (n === start) {
            return true
            }

            if (n % start === 0) {
            return false
            }

            return isPrime(n, start+1)
            }

            const allPrime = (n, start=2, result="") => {
      if (n < start) {
              return result
              }

              if (isPrime(start)) {
              result = result+'<h2>'+start+'</h2>'
              }

              return allPrime(n, start+1, result)
              }

              const box6 = document.querySelector('.div6')
              const input6 = document.querySelector('.input6')
              const button6 = document.querySelector('.button6')

              button6.onclick = () => {
        box6.innerHTML = allPrime(input6.value)
        }
  </script>
</div>

<h1>js2 exercise 7</h1>
<div>
  <h2 class="head7"></h2>
  <input class="input7" type="text" />
  <button class="button7">Delay200ms</button>

  <script>
      const head7 = document.querySelector('.head7')
      const input7 = document.querySelector('.input7')
      const button7 = document.querySelector('.button7')

      const displayAChar = (str, i=0, result="") => {
      if (i < str.length) {
              setTimeout(() => {
      result = result + str[i]
      head7.innerText = result
      return displayAChar(str, i+1, result)}, 200)
      }
      return result
      }

      button7.onclick = () => {
      displayAChar(input7.value)
      }
  </script>
</div>

<h1>js2 exercise 8</h1>
<div>
  <div class="box8"></div>
  <h2 class="head8">0</h2>
  <button class="button8">Start</button>

  <script>
    const head8 = document.querySelector('.head8')
    const box8 = document.querySelector('.box8')
    const button8 = document.querySelector('.button8')

    const displayMs = (str, i=0) => {
    if (button8.innerText === "Stop") {
    setTimeout(() => {
    i = i + 1
    head8.innerText = i
    return displayMs(str, i)}, 500)
    }
    return
    }

    button8.onclick = () => {
    if (button8.innerText === "Start") {
    button8.innerText = "Stop"
    } else {
    button8.innerText = "Start"
    }

    displayMs(button8.innerText)
    }
  </script>
</div>

<h1>js2 exercise 9</h1>
<div>
  <h2 class="head9">default</h2>
  <input class="input9" type="text" />
  <input class="timer9" type="number" />

  <script>
    const head9 = document.querySelector('.head9')
    const input9 = document.querySelector('.input9')
    const timer9 = document.querySelector('.timer9')

    let hide = true

    const blinking = () => {
    head9.innerText = input9.value || "default"

    if (hide) {
    head9.innerText = ""
    }
    hide = !hide

    const timer = timer9.value || 500

    if (timer9.value > 10) {
    setTimeout(blinking, timer)
    }
    }

    blinking()
  </script>
</div>

<h1>js2 excercise a1</h1>
<div>
  <h2>count down</h2>
  <input class="input_a1" type="number" />
  <button class="button_a1">Start</button>
  <h2 class="head_a1"></h2>

  <script>
    const input_a1 = document.querySelector(".input_a1")
    const button_a1 = document.querySelector(".button_a1")
    const head_a1 = document.querySelector(".head_a1")

    const countDown = (n, t=1000) => {
    if (n >= 0) {
    head_a1.innerText = n
    setTimeout(() => {
    countDown(n-1)
    }, t)
    }
    }

    button_a1.onclick = () => {
    countDown(input_a1.value)
    }

  </script>
</div>

<h1>js2 exercise a2</h1>
<div>
  <input class="input_a2" type="text" />
  <button class="button_a2">Save</button>
  <div class="box_a2"></div>

  <script>
    const input_a2 = document.querySelector(".input_a2")
    const button_a2 = document.querySelector(".button_a2")
    const box_a2 = document.querySelector(".box_a2")

    button_a2.onclick = () => {
    box_a2.innerHTML = `${box_a2.innerHTML} <h2>${input_a2.value}</h2>`
    input_a2.value = ''
    }
</script>
</div>

<h1>js2 exercise a3</h1>
<div>
  <div class="box_a3"></div>
  <h2 class="head_a3"></h2>

  <script>
    const box_a3 = document.querySelector(".box_a3")
    const head_a3 = document.querySelector(".head_a3")

    const letterFilter = (str, c, i=0, result="") => {
    if (i < str.length) {
            if (c !== str[i]) {
            result = result + str[i]
            }
            return letterFilter(str, c, i+1, result)
            }

            return result
            }

            appLoop = () => {

      let filterC = ""
      head_a3.innerText = ""

      box_a3.innerHTML = `
      <input class="input_a3" type="text" />
      <button class="startButton_a3">Start</button>
      `
      const input_a3 = document.querySelector(".input_a3")
      const startButton_a3 = document.querySelector(".startButton_a3")

      startButton_a3.onclick = () => {
      filterC = input_a3.value

      box_a3.innerHTML = `
      <input class="input_a3_1" type="text" />
      <button class="filterButton">Filter</button>
      <button class="backButton">Back</button>
      `
      const input_a3_1 = document.querySelector(".input_a3_1")
      const filterButton = document.querySelector(".filterButton")

      filterButton.onclick = () => {
      head_a3.innerText = letterFilter(input_a3_1.value, filterC)
      input_a3_1.value = ""
      }

      const backButton = document.querySelector(".backButton")
      backButton.onclick = appLoop
      }
      }

      appLoop()
  </script>
</div>

<h1>js2 exercise a4</h1>
<div>
  <button class="button_a4">ADD1</button>
  <h2 class="head_a4">0</h2>

  <script>
    const button_a4 = document.querySelector(".button_a4")
    const head_a4 = document.querySelector(".head_a4")

    button_a4.onclick = () => {
    head_a4.innerText = +head_a4.innerText + 1
    }
  </script>
</div>

<h1>js2 exercise a5</h1>
<div>
  <button class="button_a5">toggle</button>
  <h2 class="head_a5">hello world</h2>

  <script>
    const button_a5 = document.querySelector(".button_a5")
    const head_a5 = document.querySelector(".head_a5")

    button_a5.onclick = () => {
    if (head_a5.innerText === "hello world") {
    head_a5.innerText = ""
    } else {
    head_a5.innerText = "hello world"
    }
    }
  </script>
</div>

<h1>js3 example for localStorage</h1>
<div>
  <input type="text" class="textBox" />
  <button class="submit">Store it</button>

  <script>
    const submitButton = document.querySelector(".submit")
    const textBox = document.querySelector(".textBox")

    // First grab what's already in local storage.
    // We use || '[]' to start an array the first time
    //   because getItem will return null
    const lsData = localStorage.getItem('mydata') || '[]'

    // Turn string into an array
    const dataArray = JSON.parse(lsData)

    submitButton.onclick = () => {
    // Push the new text into it
    dataArray.push(textBox.value)
    // Store it back, turning it into a string on the way
    localStorage.setItem('mydata', JSON.stringify(dataArray))
    // Then console.log everything stored up till now
    console.log(dataArray)
    }
  </script>
</div>


<h1>js3 exercise 1</h1>
<h2>Add Option</h2>
<div>
  <input type="text" class="input_js3_1"/>
  <button class="button_js3_1">Add</button>
  <select class="select_js3_1"></select>

  <script>
    const input_js3_1  = document.querySelector('.input_js3_1')
    const button_js3_1 = document.querySelector('.button_js3_1')
    const select_js3_1 = document.querySelector('.select_js3_1')

    const optionArray = []

    button_js3_1.onclick = () => {
    // Push the new text into it
    optionArray.unshift(input_js3_1.value)

    // Update select display
    select_js3_1.innerHTML = optionArray.reduce((acc, e) => {
    return acc + `
    <option value=${e}>${e}</option>
    `
    }, "")
    }
  </script>
</div>

<h1>js3 exercise 2</h1>
<h2>Todo list</h2>
<div>
  <button class="button_js3_2">Add</button>
  <input class="input_js3_2" type="text" />
  <button class="button_js3_2_1">Filter</button>
  <div class="box_js3_2"></div>

  <script>
    const box_js3_2 = document.querySelector('.box_js3_2')
    const button_js3_2 = document.querySelector('.button_js3_2')
    const button_js3_2_1 = document.querySelector('.button_js3_2_1')
    const input_js3_2 = document.querySelector('.input_js3_2')

    // First grab what's already in local storage.
    // We use || '[]' to start an array the first time
    //   because getItem will return null
    const todoData = localStorage.getItem('myTodo') || '[]'
    // Turn string into an array
    const todoArray = JSON.parse(todoData)

    const updateBox = () => {
    box_js3_2.innerHTML = todoArray.reduce((acc, e) => {
    return acc + `
    <h3 class="todo" value=${e}>${e}</h3>
    `
    }, "")

    // Store it back, turning it into a string on the way
    localStorage.setItem('myTodo', JSON.stringify(todoArray))

    const todos = document.querySelectorAll('.todo')

    todos.forEach((e, i) => {
    e.onclick = () => {
    todoArray.splice(i, 1)
    updateBox()
    }
    })
    }

    button_js3_2.onclick = () => {
    // Push the new text into it
    const todoItem = "todo" + todoArray.length
    todoArray.unshift(todoItem)

    // Update box display
    updateBox()
    }

    button_js3_2_1.onclick = () => {
    const todoList = todoArray.filter((e) => {
    return e.includes(input_js3_2.value)
    })

    box_js3_2.innerHTML = todoList.reduce((acc, e) => {
    return acc + `
    <h3 class="todo" value=${e}>${e}</h3>
    `
    }, "")
    }
  </script>
</div>

<h1>js3 exercise 3</h1>
<h2>book reader</h2>
<div>
  <button class="button_js3_3_1">Previous</button>
  <button class="button_js3_3_2">Next</button>

  <div class="box_js3_3_1"></div>

  <input type="text" class="input_js3_3" />
  <button class="button_js3_3_3">Submit</button>

  <div class="box_js3_3"></div>

  <script>
    const button_js3_3_1 = document.querySelector('.button_js3_3_1')
    const button_js3_3_2 = document.querySelector('.button_js3_3_2')
    const button_js3_3_3 = document.querySelector('.button_js3_3_3')
    const input_js3_3 = document.querySelector('.input_js3_3')
    const box_js3_3_1 = document.querySelector('.box_js3_3_1')
    const box_js3_3 = document.querySelector('.box_js3_3')

    const bookData = localStorage.getItem('myBook') || '[]'
    // Turn string into an array
    const bookArray = JSON.parse(bookData)

    let bookmark = 0
    button_js3_3_1.onclick = () => {
    if (bookmark > 0) {
    bookmark = bookmark - 1
    }
    console.log(bookmark)
    updateRead()
    }

    button_js3_3_2.onclick = () => {
    if (bookmark < (bookArray.length-1)) {
    bookmark = bookmark + 1
    }

    updateRead()
    }
    const updateRead = () => {
    box_js3_3_1.innerText = bookArray[bookmark]
    }

    updateRead()

    const updateBook = () => {
    box_js3_3.innerHTML = bookArray.reduce((acc, e) => {
    return acc + `
    <h4 class="book" value=${e}>${e}</h4>
    `
    }, "")

    // Store it back, turning it into a string on the way
    localStorage.setItem('myBook', JSON.stringify(bookArray))

    const books = document.querySelectorAll('.book')

    books.forEach((e, i) => {
    e.onclick = () => {
    bookArray.splice(i, 1)
    updateBook()
    }
    })
    }

    button_js3_3_3.onclick = () => {
    // Push the new book into books
    const newBook = input_js3_3.value
    bookArray.unshift(newBook)

    // Update book display
    updateBook()
    }

    updateBook()
  </script>
</div>

<h1>js3 exercise 4</h1>
<h2>friend's age</h2>
<div>
  <h3>Name: </h3>
  <input type="text" class="Name" />
  <h3>Age: </h3>
  <input type="text" class="Age" />
  <button class="button_js3_4">ADD</button>

  <div class="box_js3_4"></div>

  <script>
    const friendData = localStorage.getItem('myFriend') || '[]'
    const friendArray = JSON.parse(friendData)

    document.querySelector('.button_js3_4').onclick = () => {
    const newFriend = {
    name: document.querySelector('.Name').value,
    age:  document.querySelector('.Age').value
    }

    friendArray.push(newFriend)

    localStorage.setItem('myFriend', JSON.stringify(friendArray))

    updateDisplay = () => {
    document.querySelector('.box_js3_4').innerHTML =
    friendArray.reduce((acc, e) => {
    return acc + `
    <div>
    <h4 class="friendName">${e.name}</h4>
    </div>
    `
    }, "")

    document.querySelectorAll('.friendName').forEach((e, i) => {
    e.onclick = () => {
    alert(friendArray[i].age)
    const myLog = `${i} - ${e} - ${friendArray[i].age}`
    console.log(myLog)
    }
    })
    }

    updateDisplay()
    }
  </script>
</div>
